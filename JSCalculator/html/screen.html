<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="../js/onclick.js"></script> <!--버튼식 계산기 js-->
    <link rel="stylesheet" href="../css/screen.css">
    <script src="../js/jquery-3.7.1.min.js"></script>
    <script src="../js/ASCII.js"></script><!--키보드입력 계산기 js-->
    <script src="../js/BackSpace.js"></script> <!--백 스페이스 함수-->
    <script src="../js/checkbox.js"></script>

    <title>Document</title>
</head>
<body>
    <h3>JavaScript 계산기</h3>
    <div id="keyframe">
        <input 
            type="text"
            name="displayText" 
            class="value" 
            id="display" 
            placeholder="과정"
            onkeydown="onlyNumeric(event)"
        >
        <input type="checkbox" class="checkpad" checked onclick="ckboxed()"> 키보드사용
        <input type="text" class="done" readonly="readonly" id="finish" placeholder="결과">
        <hr style="border: none;">
        <div id="numbers">
            <button type="button" class="keypad" onclick="add(1)">1</button>
            <button type="button" class="keypad" onclick="add(2)">2</button>
            <button type="button" class="keypad" onclick="add(3)">3</button>
            <button type="button" class="keypad" onclick="eradicate()">←</button>

        <hr style="border: none;">
            <button type="button" class="keypad" onclick="add(4)">4</button>
            <button type="button" class="keypad" onclick="add(5)">5</button>
            <button type="button" class="keypad" onclick="add(6)">6</button>
            <button type="button" class="keypad" onclick="add('.')">.</button>
        <hr style="border: none;">
            <button type="button" class="keypad" onclick="add(7)">7</button>
            <button type="button" class="keypad" onclick="add(8)">8</button>
            <button type="button" class="keypad" onclick="add(9)">9</button>
            <button type="button" class="keypad" onclick="add(0)">0</button>
        </div>
        <hr style="border: none;">
        <div id="operation">
            <button type="button" class="operpad" onclick="add('+')">+</button>
            <button type="button" class="operpad" onclick="add('-')">-</button>
            <button type="button" class="operpad" onclick="add('*')">*</button>
            <button type="button" class="operpad" onclick="add('/')">/</button>
        </div>
        <hr style="border: none;">
        <div id="result">
            <button type="button" id="Clear" class="res" onclick="reset()">C</button>
            <button type="button" id="Equal" class="res" onclick="calculation()">=</button>
        </div>
    </div>    
</body>
<script type="text/JavaScript">
    //화면 전역에 걸어주는 Callback
    window.addEventListener("keydown",function(e){
        //전역에 걸어주는 매서드
        if(e.defaultedPrevented){
            return;
        }
        var handler = false;
        if(58<=e.keyCode){
            //영문자,사칙연산 이외의 특수기호 사용불가능
            handler=true;
        }
        //화면 전역 콜백을 넣어도 한글을 막을수는 없다...
        //어떻게 하면 한글을 막을수 있을까

        // 1. HTML에서 UTF-8 에서 ISO식으로 막는다 
        //-- 문제점 1 . 한글이 깨진다
        if(handler){
            console.log(e.keyCode);
            e.preventDefault();
        }
    },true);
</script>
</html>